# Система отслеживания успеваемости в университете на блокчейне

## Обзор
Децентрализованное блокчейн-приложение для отслеживания успеваемости студентов университета, управления курсами и аналитики.

## Функции
- Контроль доступа на основе ролей (Администратор, Преподаватель, Студент)
- Управление курсами
- Отслеживание оценок и посещаемости
- Управление расписанием
- Статистика успеваемости

## Описание функций

### UniversityAccessControl.sol
- **assignRole**: Назначает определенную роль учетной записи.
- **addUser**: Добавляет пользователя с указанной ролью.
- **getRole**: Получает роль определенной учетной записи.
- **hasRole**: Проверяет, имеет ли учетная запись определенную роль.

### CourseManagement.sol
- **createNewCourse**: Позволяет администратору создать новый курс с назначенным преподавателем.

### GradeManagement.sol
- **recordGrade**: Записывает оценку для студента по определенному курсу.
- **markAttendance**: Отмечает посещаемость студента по определенному курсу.

### ScheduleManagement.sol
- **createSchedule**: Создает расписание для курса.
- **getSchedule**: Получает расписание для курса.

### StatisticsTracker.sol
- **getAverageGrade**: Вычисляет среднюю оценку по курсу.
- **getAttendanceRate**: Вычисляет процент посещаемости по курсу.

## Решение
Проект представляет собой децентрализованное приложение для управления курсами и отслеживания успеваемости студентов на базе блокчейна. Он включает в себя смарт-контракты для управления доступом, курсами, оценками, расписанием и статистикой.

## Установка и настройка

### Настройка окружения
1. Создайте файл `.env` в корневой директории проекта.
2. Добавьте следующие переменные окружения в файл `.env`:
   ```
   INFURA_API_KEY=your_infura_api_key_here
   MAINNET_PRIVATE_KEY=your_mainnet_private_key_here
   ETH_MAINNET_RPC_URL=your_mainnet_rpc_url_here
   ```

### Установка зависимостей
1. Убедитесь, что у вас установлен Node.js и npm.
2. Установите Yarn, если он еще не установлен:
   ```
   npm install --global yarn
   ```
3. Установите зависимости проекта:
   ```
   yarn install
   ```

### Компиляция смарт-контрактов
1. Скомпилируйте контракты с помощью Hardhat:
   ```
   npx hardhat compile
   ```

### Тестирование
1. Запустите тесты для проверки функциональности контрактов:
   ```
   npx hardhat test
   ```

### Развертывание
1. Настройте параметры развертывания в `hardhat.config.js`.
2. Разверните контракты на локальной сети:
   ```
   npx hardhat run deploy/01_deploy_proxy_contracts.js --network localhost
   ```
3. Разверните контракты на основной сети:
   ```
   npx hardhat run deploy/01_deploy_proxy_contracts.js --network mainnet
   ```

## Архитектура смарт-контрактов
- `UniversityAccessControl.sol`: Управляет ролями пользователей
- `CourseManagement.sol`: Обрабатывает создание и регистрацию на курсы
- `GradeManagement.sol`: Управляет оценками и посещаемостью
- `ScheduleManagement.sol`: Обрабатывает расписание курсов
- `StatisticsTracker.sol`: Предоставляет аналитику успеваемости

## Руководство по сборке и запуску

### Сборка
1. Убедитесь, что у вас установлен Node.js и npm.
2. Установите Yarn, если он еще не установлен:
   ```
   npm install --global yarn
   ```
3. Установите зависимости проекта:
   ```
   yarn install
   ```
4. Скомпилируйте смарт-контракты:
   ```
   npx hardhat compile
   ```

### Запуск
1. Запустите локальную сеть Hardhat:
   ```
   npx hardhat node
   ```
2. Разверните контракты на локальной сети:
   ```
   npx hardhat run deploy/01_deploy_proxy_contracts.js --network localhost
   ```
3. Запустите тесты для проверки функциональности:
   ```
   npx hardhat test
   ```

## Непрерывное развертывание
Проект использует GitHub Actions для автоматического развертывания смарт-контрактов на сеть Rinkeby. При каждом пуше в ветку `main` происходит автоматическая компиляция, тестирование и развертывание контрактов.

## Измерение покрытия кода
Покрытие кода измеряется с помощью плагина `solidity-coverage`. Это позволяет убедиться, что все функции смарт-контрактов покрыты тестами и работают корректно.

Для запуска покрытия кода используйте команду:
```
npx hardhat coverage
```

## Статический анализ кода
Для обеспечения безопасности смарт-контрактов используется Mythril, инструмент для статического анализа. Mythril автоматически запускается в процессе CI/CD для проверки контрактов на уязвимости.

Для запуска анализа вручную используйте скрипт:
```
./analyze_contracts.sh
```